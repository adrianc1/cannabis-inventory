<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link href="/tailwind.css" rel="stylesheet" />
		<title>Adjust Quantity</title>
	</head>
	<body class="bg-gray-50 min-h-screen">
            <form
					data-id="<%= product.id %>"
					id="adjust-form"
					method="POST"
					action="/products/<%= product.id %>/adjust"
					class="space-y-6 px-8"
				>
					
                        <div class="flex items-center gap-2">
                            <p class="text-md font-semibold text-gray-700"> Product Name: </p>
                            <div class="text-2xl font-bold text-green-800"><%= product.name %></div>
                        </div>
					
                        <div class="">
                             <p class="text-md font-semibold text-gray-700"> Description: </p>
                            <div class="text-lg text-gray-800"><%= product.description %></div>
                        </div>

		<div class="grid gap-4">
    
                        <div class="w-full flex justify-between ">
                            <div class="">
                                 <p class="text-md font-semibold text-gray-700"> Brand: </p>
                                <div class="text-lg text-gray-800"><%= brand.name %></div>
                            </div>
                             <div class="">
                                 <p class="text-md font-semibold text-gray-700"> Strain: </p>
                                <div class="text-lg text-gray-800"><%= strain.name %></div>
                            </div>
                            <div class="">
                                 <p class="text-md font-semibold text-gray-700"> Category: </p>
                                <div class="text-lg text-gray-800"><%= category.name %></div>
                            </div>
                        </div>
    
    
                        <div>
                        <label for="quantity" class="block text-sm font-semibold text-gray-700 mb-2">
                                Quantity
                        </label>
                        <input
                         type="number"
                         name="quantity"
                         id="quantity"
                         value="<%= product.quantity %>"
                         required
                         class="w-full px-4 py-2.5 border-2 border-gray-300 rounded-lg focus:border-green-600 focus:outline-none transition-colors bg-white"
                        >
                        </div>

                        <div>
                            <label for="unit" class="block text-sm font-semibold text-gray-700 mb-2">
                                Unit
                            </label>
                            <select
                                name="unit"
                                id="unit"
                                class="w-full px-4 py-2.5 border-2 border-gray-300 rounded-lg focus:border-green-600 focus:outline-none transition-colors bg-white"
                            >
                                <option><%= product.unit %></option>
                                <% units.forEach((unit, index) => { %>
                                <option value="<%= unit %>"><%= unit %></option>
                                <% }) %>
                            </select>
                        </div>

        </div>

					  <div>
                            <label for="unit" class="block text-sm font-semibold text-gray-700 mb-2">
                                Reason:
                            </label>
                            <select
                                name="movement_type"
                                id="movement_type"
                                class="w-full px-4 py-2.5 border-2 border-gray-300 rounded-lg focus:border-green-600 focus:outline-none transition-colors bg-white"
                            >
                                <option>Select an option</option>
                                <% adjustmentReasons.forEach((reason, index) => { %>
                                <option value="<%= reason %>"><%= reason %></option>
                                <% }) %>
                            </select>
                        </div>

                        <div>
						<label
							for="description"
							class="block text-sm font-semibold text-gray-700 mb-2"
						>
							Notes: 
						</label>
						<textarea
							id="notes"
							name="notes"
							rows="3"
							placeholder="Additional notes"
							class="w-full px-4 py-2.5 border-2 border-gray-300 rounded-lg focus:border-green-600 focus:outline-none transition-colors resize-none"
						></textarea>
					</div>

					<div class="flex gap-3 pt-4">
						<button type="submit" id="edit-btn" class="btn-primary flex-1">
							Update Quantity
						</button>
						<a href="/products/<%= product.id %>" class="btn-secondary flex-1 text-center">
							Cancel
						</a>
					</div>
        </form>
        <script src="/js/adjustInventory.js"></script>
	</body>
</html>
