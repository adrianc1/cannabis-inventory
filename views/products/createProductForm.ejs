<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link href="/tailwind.css" rel="stylesheet" />

		<title>Create New Product</title>
	</head>
	<body class="bg-gray-50 min-h-screen">
		<%- include ('../partials/header.ejs') %>

		<div class="max-w-2xl mx-auto px-6 py-8">
			<a
				href="/products"
				class="inline-flex items-center text-emerald-600 hover:text-emerald-700 font-medium mb-6 transition-colors"
			>
				‚Üê Back to products
			</a>

			<div class="bg-white rounded-lg shadow-md p-8">
				<h1 class="text-3xl font-bold text-gray-800 mb-6">Add New Product</h1>

				<form method="POST" action="/products/create-product" class="space-y-6" id="create-product-form">
					<div>
						<label
							for="name"
							class="block text-sm font-semibold text-gray-700 mb-2"
						>
							Product Name
						</label>
						<input
							type="text"
							id="name"
							name="name"
							placeholder="Cold Fire 1g"
							required
							class="w-full px-4 py-2.5 border-2 border-gray-300 rounded-lg focus:border-green-600 focus:outline-none transition-colors"
						/>
					</div>

					<div>
						<label
							for="description"
							class="block text-sm font-semibold text-gray-700 mb-2"
						>
							Description
						</label>
						<textarea
							id="description"
							name="description"
							rows="3"
							placeholder="Flavorful full-spectrum vape pen"
							class="w-full px-4 py-2.5 border-2 border-gray-300 rounded-lg focus:border-green-600 focus:outline-none transition-colors resize-none"
						></textarea>
					</div>

					<div>
						<label
							for="name"
							class="block text-sm font-semibold text-gray-700 mb-2"
						>
							SKU
						</label>
						<input
							type="text"
							id="sku"
							name="sku"
							placeholder="RTD0001"
							required
							class="w-full px-4 py-2.5 border-2 border-gray-300 rounded-lg focus:border-green-600 focus:outline-none transition-colors"
						/>
					</div>

					<!-- Price and Unit -->
					<div class="grid grid-cols-2 gap-4">
						<div>
							<label
								for="unit"
								class="block text-sm font-semibold text-gray-700 mb-2"
							>
								Unit
							</label>

							<select
								name="unit"
								id="unit"
								class="w-full px-4 py-2.5 border-2 border-gray-300 rounded-lg focus:border-green-600 focus:outline-none transition-colors bg-white"
							>
								<option value="">-- Select Unit --</option>
								<% units.forEach((unit, index) => { %>
								<option value="<%= unit %>"><%= unit %></option>
								<% }) %>
							</select>
						</div>
					</div>

					<!-- Brand -->
					<div>
						<label
							for="brandId"
							class="block text-sm font-semibold text-gray-700 mb-2"
						>
							Brand
						</label>
						<div id="brand-wrapper">
							<select
								name="brandId"
								id="brandId"
								required
								class="w-full px-4 py-2.5 border-2 border-gray-300 rounded-lg focus:border-green-600 focus:outline-none transition-colors bg-white"
							>
								<option value="">-- Select a Brand --</option>
								<% brands.forEach((brand) => { %>
								<option value="<%= brand.id %>"><%= brand.name %></option>
								<% }) %>
								<option id="create-brand" value="">+ Add New Brand</option>
							</select>
						</div>
					</div>

					<!-- Strain -->
					<div>
						<label
							for="strainId"
							class="block text-sm font-semibold text-gray-700 mb-2"
						>
							Strain
						</label>
						<div id="strain-wrapper">
							<select
								name="strainId"
								id="strainId"
								class="w-full px-4 py-2.5 border-2 border-gray-300 rounded-lg focus:border-green-600 focus:outline-none transition-colors bg-white"
							>
								<option value="">-- Select a Strain (Optional) --</option>
								<% strains.forEach((strain) => { %>
								<option value="<%= strain.id %>"><%= strain.name %></option>
								<% }) %>
								<option id="create-strain" value="">+ Add New Strain</option>
							</select>
						</div>
					</div>

					<!-- Category -->
					<div>
						<label
							for="categoryId"
							class="block text-sm font-semibold text-gray-700 mb-2"
						>
							Category
						</label>
						<div id="category-wrapper">
							<select
								name="categoryId"
								id="categoryId"
								required
								class="w-full px-4 py-2.5 border-2 border-gray-300 rounded-lg focus:border-green-600 focus:outline-none transition-colors bg-white"
							>
								<option value="">-- Select a Category --</option>
								<% categories.forEach((category) => { %>
								<option value="<%= category.id %>"><%= category.name %></option>
								<% }) %>
								<option id="create-category" value="">+ Add New Category</option>
							</select>
						</div>
					</div>

					<!-- Submit Button -->
					<div class="pt-4">
						<button type="submit" class="btn-primary w-full">
							Create Product
						</button>
					</div>
				</form>
			</div>
		</div>
		<script src="/js/productForm.js"></script>
	</body>
</html>
